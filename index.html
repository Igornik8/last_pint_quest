<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1" />
<title>–í –ø–æ–∏—Å–∫–∞—Ö –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–∏–Ω—Ç—ã</title>

<!-- –í–∏–Ω—Ç–∞–∂–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã (–ª–µ–≥–∫–∏–µ, —Ö–æ—Ä–æ—à–æ –≥—Ä—É–∑—è—Ç—Å—è –Ω–∞ iPhone) -->
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700&family=IM+Fell+English:ital@0;1&display=swap" rel="stylesheet">

<style>
  :root{
    --ink:#2b2216; --gold:#a67c52; --edge:#c6b28e; --ok:#1a874e; --bad:#a32020;
    --paper:#efe5cf;
  }

  html,body{height:100%;margin:0}
  body{
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    font-family:"IM Fell English", Georgia, serif; color:var(--ink);
    background: var(--paper);
    /* –ü–µ—Ä–≥–∞–º–µ–Ω—Ç —á–µ—Ä–µ–∑ —á–∏—Å—Ç—ã–π CSS, –±–µ–∑ —Ñ–∞–π–ª–æ–≤ */
    background-image:
      radial-gradient(60% 50% at 50% 5%, rgba(255,255,255,.45), rgba(0,0,0,0) 70%),
      radial-gradient(120% 80% at 50% 120%, rgba(0,0,0,.07), rgba(0,0,0,0) 70%),
      repeating-linear-gradient(0deg, rgba(0,0,0,.03) 0 2px, rgba(0,0,0,0) 2px 6px);
  }

  .wrap{max-width:920px;margin:0 auto;padding:env(safe-area-inset-top) 16px env(safe-area-inset-bottom)}
  .card{
    background: rgba(255,255,255,.9);
    border: 2px solid var(--edge);
    border-radius: 16px;
    padding: 18px;
    box-shadow: 0 18px 40px rgba(0,0,0,.18);
    position:relative; overflow:hidden;
  }
  .card:before,.card:after{
    content:""; position:absolute; inset:0; pointer-events:none; mix-blend-mode:multiply;
  }
  .card:before{
    background:
      radial-gradient(240px 120px at -80px -60px, rgba(255,255,255,.25), transparent 70%),
      radial-gradient(260px 140px at 110% 110%, rgba(0,0,0,.06), transparent 70%);
  }
  .head{
    display:flex; align-items:center; justify-content:space-between; gap:12px;
    padding:8px 2px 14px;
  }
  .title{font-family:"Cinzel", serif; font-weight:700; font-size:26px; letter-spacing:.5px}
  .progress{width:42%; height:10px; background:#eadab7; border-radius:999px; overflow:hidden; border:1px solid #dec9a2}
  .progress>span{display:block; height:100%; width:0; background:linear-gradient(90deg,#b88a5e,#d1a97a); transition:width .3s ease}

  h1{font-family:"Cinzel", serif; font-size:32px; margin:6px 0 10px; text-align:center}
  h2{font-family:"Cinzel", serif; font-size:22px; margin:12px 0}
  p{font-size:18px; line-height:1.55; margin:10px 0}

  /* –®–∞–≥–∏ */
  .step{display:none; min-height:60vh}
  .step.active{display:block; animation:.33s ease both fadeIn}
  @keyframes fadeIn{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none}}
  @media (prefers-reduced-motion:reduce){ .step.active{animation:none} }

  .map{
    width:100%; max-height:420px; object-fit:cover;
    border-radius:14px; border:1px solid #d7c6a3; margin:8px 0 12px;
  }
  .riddle{
    margin-top:4px; padding:12px; border:1px dashed #bfa77f; border-radius:12px;
    background:#fff9ef;
  }
  input[type=text]{
    width:100%; padding:14px; font-size:17px;
    border:1.5px solid #ceb88f; border-radius:10px; outline:0;
    -webkit-appearance:none;
  }
  input.ok{border-color:var(--ok); box-shadow:0 0 0 3px rgba(26,135,78,.15) inset}
  input.bad{border-color:var(--bad); box-shadow:0 0 0 3px rgba(163,32,32,.12) inset; animation:shake .24s}
  @keyframes shake{25%{transform:translateX(-2px)} 50%{transform:translateX(2px)} 75%{transform:translateX(-1px)}}
  .hint{font-size:14px; margin-top:8px; min-height:20px}
  .hint.ok{color:var(--ok); font-weight:700}
  .hint.bad{color:var(--bad); font-weight:700}

  .btnrow{margin-top:14px; display:flex; gap:10px; flex-wrap:wrap}
  .btn{
    -webkit-tap-highlight-color: transparent;
    border:0; border-radius:14px; padding:14px 20px; font-size:18px;
    background: radial-gradient(140% 140% at 30% 30%, #b78a5d, #8e623a);
    color:#fff; cursor:pointer; box-shadow:0 6px 0 #6f4b2a, 0 10px 22px rgba(0,0,0,.25);
    transition: transform .06s ease;
  }
  .btn:active{ transform: translateY(3px); box-shadow:0 3px 0 #6f4b2a, 0 6px 16px rgba(0,0,0,.22) }
  .tag{display:inline-block; padding:4px 10px; border:1px solid #d2c19b; border-radius:999px; background:#fff7e4; color:#6e542f; font-size:13px}

  /* –ë–ª–æ–∫ —Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º —à–∞–≥–∞ (–≤–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞) */
  .meta{font-size:13px; color:#6a573b}
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">

      <div class="head">
        <div class="title">–í –ø–æ–∏—Å–∫–∞—Ö –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–∏–Ω—Ç—ã</div>
        <div class="progress" aria-label="progress"><span id="bar"></span></div>
      </div>

      <!-- 0 ‚Äî –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ / –°—Ç–∞—Ä—Ç -->
      <section class="step active" data-step="0">
        <h1>–°—Ç–∞—Ä—Ç ‚Äî U Kun≈°t√°t≈Ø</h1>
        <p><b>–ì–æ—Ç–æ–≤—å—Å—è –∫ –≤–µ—Å–µ–ª—å—é!</b> –ì–¥–µ-—Ç–æ –≤ –ü—Ä–∞–≥–µ —Å–ø—Ä—è—Ç–∞–Ω –≥–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑ ‚Äî <b>–æ–±—Ä–∞—Ç–Ω—ã–π –±–∏–ª–µ—Ç –≤ –ü–∞—Ä–∏–∂ –∫ –Ω–µ–≤–µ—Å—Ç–µ</b>.
           –ù–æ –ø—É—Ç—å –∫ –Ω–µ–º—É –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –ø–µ–Ω—É, –ª–µ–≥–µ–Ω–¥—ã –∏ –ø–∞—Ä—É —Å–æ–º–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π. –ö–∞—Ä—Ç–∞ —É —Ç–µ–±—è ‚Äî –æ—Å—Ç–∞–ª–æ—Å—å –ø—Ä–æ–π—Ç–∏ –µ—ë üç∫</p>
        <p><span class="tag">–†–∞–∑–º–∏–Ω–∫–∞</span> –ö—É–ª—å—Ç–æ–≤–∞—è –∫—Ä–∞—Ñ—Ç–æ–≤–∞—è –¥–µ–≥—É—Å—Ç–∞—Ü–∏—è: –Ω—é—Ö–∞–µ–º, –≥–∞–¥–∞–µ–º, –Ω–µ –≤—ã–ø–ª—ë–≤—ã–≤–∞–µ–º. –≠—Ç–æ —Ç–≤–æ–π –Ω—É–ª–µ–≤–æ–π —á–µ–∫–ø–æ–∏–Ω—Ç ‚Äî –¥–∞–ª—å—à–µ –≤–µ—Å–µ–ª–µ–µ.</p>
        <div class="btnrow">
          <button class="btn" data-next>–ú—ã –≥–æ—Ç–æ–≤—ã ‚Äî –≤–ø–µ—Ä—ë–¥!</button>
        </div>
      </section>

      <!-- 1 ‚Äî –ü–æ—Ä–æ—Ö–æ–≤–∞—è –±–∞—à–Ω—è -->
      <section class="step" data-step="1">
        <div class="meta">–®–∞–≥ 1 –∏–∑ 9</div>
        <h2>Pra≈°n√° Br√°na</h2>
        <img class="map" src="img/1.jpg" alt="–ü–æ—Ä–æ—Ö–æ–≤–∞—è –±–∞—à–Ω—è">
        <div class="riddle">
          <p><b>–ó–∞–≥–∞–¥–∫–∞:</b> ¬´–ß–µ—Ä–µ–∑ –º–µ–Ω—è –≤—Ö–æ–¥–∏–ª–∏ –≤ –≥–æ—Ä–æ–¥ –≤–æ–∏–Ω—ã –∏ –∫–æ—Ä–æ–ª–∏. –ö—Ç–æ —è?¬ª</p>
          <input id="a1" inputmode="text" autocomplete="off" autocapitalize="none" placeholder="–≤–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç‚Ä¶">
          <div class="hint" id="m1"></div>
        </div>
        <div class="btnrow"><button class="btn" data-check="1">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button></div>
      </section>

      <!-- 2 ‚Äî –ö—É—Ä–∞–Ω—Ç—ã -->
      <section class="step" data-step="2">
        <div class="meta">–®–∞–≥ 2 –∏–∑ 9</div>
        <h2>–°—Ç–∞—Ä–æ–º–µ—Å—Ç—Å–∫–∞—è –ø–ª–æ—â–∞–¥—å</h2>
        <img class="map" src="img/2.jpg" alt="–ö—É—Ä–∞–Ω—Ç—ã">
        <div class="riddle">
          <p><b>–ó–∞–≥–∞–¥–∫–∞:</b> ¬´–Ø —Å—á–∏—Ç–∞—é –≤—Ä–µ–º—è, –Ω–æ –¥–µ–ª–∞—é —ç—Ç–æ –∫—Ä–∞—Å–∏–≤–æ. –ì–¥–µ —è?¬ª</p>
          <input id="a2" inputmode="text" autocomplete="off" autocapitalize="none" placeholder="–≤–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç‚Ä¶">
          <div class="hint" id="m2"></div>
        </div>
        <div class="btnrow"><button class="btn" data-check="2">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button></div>
      </section>

      <!-- 3 ‚Äî –ö–∞—Ä–ª–æ–≤ –º–æ—Å—Ç -->
      <section class="step" data-step="3">
        <div class="meta">–®–∞–≥ 3 –∏–∑ 9</div>
        <h2>Karl≈Øv Most</h2>
        <img class="map" src="img/3.jpg" alt="–ö–∞—Ä–ª–æ–≤ –º–æ—Å—Ç">
        <div class="riddle">
          <p><b>–ó–∞–≥–∞–¥–∫–∞:</b> ¬´–Ø —Å–æ–µ–¥–∏–Ω—è—é –±–µ—Ä–µ–≥–∞ –∏ —Ö—Ä–∞–Ω—é –∏—Å—Ç–æ—Ä–∏–∏.¬ª</p>
          <input id="a3" inputmode="text" autocomplete="off" autocapitalize="none" placeholder="–≤–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç‚Ä¶">
          <div class="hint" id="m3"></div>
        </div>
        <div class="btnrow"><button class="btn" data-check="3">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button></div>
      </section>

      <!-- 4 ‚Äî –°—Ç–µ–Ω–∞ –õ–µ–Ω–Ω–æ–Ω–∞ -->
      <section class="step" data-step="4">
        <div class="meta">–®–∞–≥ 4 –∏–∑ 9</div>
        <h2>–°—Ç–µ–Ω–∞</h2>
        <img class="map" src="img/4.jpg" alt="–°—Ç–µ–Ω–∞ –õ–µ–Ω–Ω–æ–Ω–∞">
        <div class="riddle">
          <p><b>–ó–∞–≥–∞–¥–∫–∞:</b> ¬´–ó–¥–µ—Å—å –ø–∏—à—É—Ç –º–µ—á—Ç—ã, —Ä–∏—Å—É—é—Ç –º–∏—Ä –∏ –ø–æ—é—Ç –ø—Ä–æ –ª—é–±–æ–≤—å. –ì–¥–µ —Ç—ã?¬ª</p>
          <input id="a4" inputmode="text" autocomplete="off" autocapitalize="none" placeholder="–≤–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç‚Ä¶">
          <div class="hint" id="m4"></div>
        </div>
        <div class="btnrow"><button class="btn" data-check="4">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button></div>
      </section>

      <!-- 5 ‚Äî –õ—É—á—à–µ–µ —Ä–∞–∑–ª–∏–≤–Ω–æ–µ (—Å—Ç—Ä–æ–≥–∏–π –æ—Ç–≤–µ—Ç) -->
      <section class="step" data-step="5">
        <div class="meta">–®–∞–≥ 5 –∏–∑ 9</div>
        <h2>–ü–æ—Ä–∞ –∑–∞ ¬´–ª—É—á—à–∏–º —Ä–∞–∑–ª–∏–≤–Ω—ã–º¬ª</h2>
        <p><span class="tag">–û—Ç –ò–≥–æ—Ä—è</span> ¬´–¢—É—Ç –Ω–∞–ª–∏–≤–∞—é—Ç –ª—É—á—à–µ–µ —Ä–∞–∑–ª–∏–≤–Ω–æ–µ –ø–∏–≤–æ¬ª.
           –ö–∞–∫ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç—Ç–æ—Ç —Ö—Ä–∞–º —Ö–º–µ–ª—è? –ù–∞–ø–∏—à–∏ <b>—Ç–æ—á–Ω–æ–µ</b> –Ω–∞–∑–≤–∞–Ω–∏–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –±—É–∫–≤–∞–º–∏.</p>
        <img class="map" src="img/5.jpg" alt="U svat√©ho Filipa a Jakuba">
        <div class="riddle">
          <input id="a5" inputmode="text" autocomplete="off" autocapitalize="none" placeholder="–≤–≤–µ–¥–∏ —Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ‚Ä¶">
          <div class="hint" id="m5"></div>
        </div>
        <div class="btnrow"><button class="btn" data-check="5">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button></div>
      </section>

      <!-- 6 ‚Äî –ú–æ—Å—Ç –õ–µ–≥–∏–π (–±–µ–∑ –≤–≤–æ–¥–∞) -->
      <section class="step" data-step="6">
        <div class="meta">–®–∞–≥ 6 –∏–∑ 9</div>
        <h2>Most Legi√≠</h2>
        <p>–°–¥–µ–ª–∞–π—Ç–µ ¬´–≥–µ—Ä–æ–π—Å–∫–∏–π¬ª –∫–∞–¥—Ä —Å –≤–∏–¥–æ–º –Ω–∞ –í–ª—Ç–∞–≤—É –∏ –ö–∞—Ä–ª–æ–≤ –º–æ—Å—Ç. –ü–æ–∑–∞ ¬´—Ç—É—Ä–∏—Å—Ç-–∏–¥–∏–æ—Ç¬ª –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è üòÅ</p>
        <img class="map" src="img/6.jpg" alt="Most Legi√≠">
        <div class="btnrow"><button class="btn" data-next>–î–∞–ª—å—à–µ</button></div>
      </section>

      <!-- 7 ‚Äî –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∞—Ç—Ä -->
      <section class="step" data-step="7">
        <div class="meta">–®–∞–≥ 7 –∏–∑ 9</div>
        <h2>N√°rodn√≠ divadlo</h2>
        <img class="map" src="img/7.jpg" alt="–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∞—Ç—Ä">
        <div class="riddle">
          <p><b>–ó–∞–≥–∞–¥–∫–∞:</b> ¬´–Ø –∑–æ–ª–æ—Ç–æ–π, —Å—Ç–æ—é —É —Ä–µ–∫–∏ –∏ —Å–ª—ã—à—É –∞–ø–ª–æ–¥–∏—Å–º–µ–Ω—Ç—ã.¬ª</p>
          <input id="a7" inputmode="text" autocomplete="off" autocapitalize="none" placeholder="–≤–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç‚Ä¶">
          <div class="hint" id="m7"></div>
        </div>
        <div class="btnrow"><button class="btn" data-check="7">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button></div>
      </section>

      <!-- 8 ‚Äî –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ —á—ë—Ä–Ω–æ–µ (—Å—Ç—Ä–æ–≥–∏–π –æ—Ç–≤–µ—Ç) -->
      <section class="step" data-step="8">
        <div class="meta">–®–∞–≥ 8 –∏–∑ 9</div>
        <h2>–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ —á—ë—Ä–Ω–æ–µ –ø–∏–≤–æ</h2>
        <p>–ù–∞–∑–æ–≤–∏ –º–µ—Å—Ç–æ <b>—Ç–æ—á–Ω–æ</b> –∏ –ø–æ–ª—É—á–∏ –ø—Ä–∞–≤–æ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ç–æ—Å—Ç.</p>
        <img class="map" src="img/8.jpg" alt="U Flek≈Ø">
        <div class="riddle">
          <input id="a8" inputmode="text" autocomplete="off" autocapitalize="none" placeholder="–≤–≤–µ–¥–∏ —Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ‚Ä¶">
          <div class="hint" id="m8"></div>
        </div>
        <div class="btnrow"><button class="btn" data-check="8">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button></div>
      </section>

      <!-- 9 ‚Äî –§–∏–Ω–∏—à -->
      <section class="step" data-step="9">
        <div class="meta">–§–∏–Ω–∏—à</div>
        <h2>–ü—Ä–∏–∑ –∏ —Ä—É–ª—å–∫–∞</h2>
        <p>–õ—é–±–æ–≤—å –ø–æ–±–µ–¥–∏–ª–∞. –ü–∏–≤–æ ‚Äî –ø–æ—á—Ç–∏. –¢–µ–ø–µ—Ä—å ‚Äî —É–∂–∏–Ω –∏ –≥—Ä–æ–º–∫–∏–π —Ç–æ—Å—Ç ü§ç</p>
        <div class="btnrow"><button class="btn" data-next>–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button></div>
      </section>

    </div>
  </div>

<script>
  // –®–∞–≥–∏ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å
  const steps = [...document.querySelectorAll('.step')];
  const bar = document.getElementById('bar');
  let idx = 0;

  function showStep(n){
    idx = (n<0?0:n>=steps.length?steps.length-1:n);
    steps.forEach((s,i)=>s.classList.toggle('active', i===idx));
    // –ø—Ä–æ–≥—Ä–µ—Å—Å
    const pct = Math.round(idx/(steps.length-1)*100);
    if(bar) bar.style.width = pct + '%';
    // –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –∫ –≤–µ—Ä—Ö—É –∫–∞—Ä—Ç–æ—á–∫–∏ (iPhone)
    window.scrollTo({top:0, behavior:'smooth'});
  }

  // –î–∞–ª–µ–µ-–Ω–∞–≤–∏–≥–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –Ω–∞ —à–∞–≥–∞—Ö –±–µ–∑ –≤–≤–æ–¥–∞)
  document.querySelectorAll('[data-next]').forEach(b=>{
    b.addEventListener('click',()=> showStep((idx+1) % steps.length));
  });

  // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –º—è–≥–∫–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤
  const norm = s => (s||"")
    .toLowerCase()
    .normalize('NFD').replace(/[\u0300-\u036f]/g,'')
    .replace(/[—ë]/g,'–µ')
    .replace(/[^a-z–∞-—è0-9\s]/g,' ')
    .replace(/\s+/g,' ')
    .trim();

  // –ú—è–≥–∫–∏–µ –æ—Ç–≤–µ—Ç—ã ‚Äî –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  const ACCEPT = {
    1: ["–ø–æ—Ä–æ—Ö–æ–≤–∞—è –±–∞—à–Ω—è","powder tower","pra≈°n√° br√°na","prasna brana","prachna brana","–ø–æ—Ä–æ—Ö–æ–≤–∞—è"],
    2: ["–∫—É—Ä–∞–Ω—Ç—ã","–æ—Ä–ª–æ–π","orloj","–∞—Å—Ç—Ä–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —á–∞—Å—ã","astronomical clock"],
    3: ["–∫–∞—Ä–ª–æ–≤ –º–æ—Å—Ç","charles bridge","karluv most","karl≈Øv most","–∫–∞—Ä–ª –º–æ—Å—Ç"],
    4: ["—Å—Ç–µ–Ω–∞ –ª–µ–Ω–Ω–æ–Ω–∞","lennon wall","john lennon wall","–ª–µ–Ω–Ω–æ–Ω"],
    7: ["–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∞—Ç—Ä","narodni divadlo","national theatre"]
  };

  // –°—Ç—Ä–æ–≥–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –±–∞—Ä–æ–≤ ‚Äî —Å –¥–∏–∞–∫—Ä–∏—Ç–∏–∫–æ–π
  const STRICT = { 5: "U svat√©ho Filipa a Jakuba", 8: "U Flek≈Ø" };

  function setFieldState(inp, ok){
    inp.classList.remove('ok','bad');
    inp.classList.add(ok ? 'ok' : 'bad');
  }

  function checkAnswer(id, val, msgEl, inpEl){
    if(STRICT[id]){
      if((val||"").trim() === STRICT[id]){
        msgEl.textContent = "–í–µ—Ä–Ω–æ!"; msgEl.className = "hint ok"; setFieldState(inpEl,true);
        setTimeout(()=>showStep(idx+1), 480);
        return;
      }
      if(norm(val) === norm(STRICT[id])){
        msgEl.textContent = "–ü–æ—á—Ç–∏! –ü—Ä–æ–≤–µ—Ä—å –±—É–∫–≤—ã (–¥–∏–∞–∫—Ä–∏—Ç–∏–∫–∞)."; msgEl.className = "hint bad"; setFieldState(inpEl,false);
        return;
      }
      msgEl.textContent = "–ù–µ –ø–æ—Ö–æ–∂–µ. –ù—É–∂–Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞."; msgEl.className = "hint bad"; setFieldState(inpEl,false);
      return;
    }
    // –º—è–≥–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
    const ok = (ACCEPT[id]||[]).some(v => norm(val).includes(norm(v)));
    msgEl.textContent = ok ? "–í–µ—Ä–Ω–æ! –ü–æ–µ—Ö–∞–ª–∏ –¥–∞–ª—å—à–µ." : "–ü–æ—á—Ç–∏. –°–∫–∞–∂–∏ —ç—Ç–æ –ø–æ-–¥—Ä—É–≥–æ–º—É üòâ";
    msgEl.className = "hint " + (ok ? "ok" : "bad");
    setFieldState(inpEl, ok);
    if(ok) setTimeout(()=>showStep(idx+1), 480);
  }

  // –ü—Ä–∏–≤—è–∑–∫–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫
  document.querySelectorAll('[data-check]').forEach(btn=>{
    btn.addEventListener('click',()=>{
      const id = +btn.getAttribute('data-check');
      const inp = document.getElementById('a'+id);
      const msg = document.getElementById('m'+id);
      checkAnswer(id, inp.value, msg, inp);
    });
  });

  // iOS-friendly: —Å–Ω—è—Ç—å –∫—Ä–∞—Å–Ω—É—é —Ä–∞–º–∫—É –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤–≤–æ–¥–∞
  document.querySelectorAll('input[type=text]').forEach(inp=>{
    inp.addEventListener('input',()=>{ inp.classList.remove('ok','bad'); });
  });

  showStep(0);
</script>
</body>
</html>
