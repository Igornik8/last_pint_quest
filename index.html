<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–í –ø–æ–∏—Å–∫–∞—Ö –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–∏–Ω—Ç—ã</title>
<style>
  :root{
    --ink:#2e2416;--gold:#a67c52;--bg:#efe5cf;--edge:#d9c8a5;--shadow:rgba(0,0,0,.14);
    --ok:#1b8b51;--bad:#9a1f1f;
  }
  html,body{margin:0;height:100%}
  body{
    font-family: "Trebuchet MS", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    color:var(--ink);
    background:var(--bg);
    background-image: radial-gradient(40% 40% at 50% 10%, rgba(255,255,255,.6), rgba(0,0,0,0) 70%), 
                      radial-gradient(80% 80% at 50% 100%, rgba(0,0,0,.06), rgba(0,0,0,0) 70%);
  }
  .wrap{max-width:900px;margin:0 auto;padding:24px}
  .card{
    background:rgba(255,255,255,.88);
    border:2px solid var(--edge);
    border-radius:14px;
    padding:22px;
    box-shadow:0 14px 36px var(--shadow);
    position:relative; overflow:hidden;
  }
  .card:before,.card:after{
    content:""; position:absolute; inset:0; pointer-events:none;
    background:
      radial-gradient(250px 120px at -80px -60px, rgba(255,255,255,.25), transparent 70%),
      radial-gradient(250px 120px at 110% 110%, rgba(0,0,0,.05), transparent 70%);
    mix-blend-mode:multiply;
  }
  h1,h2{font-family: Georgia, "Times New Roman", serif;margin:0 0 14px}
  h1{font-size:34px;text-align:center;color:#2c1d0f}
  h2{font-size:24px;color:#3b2916}
  p{font-size:18px;line-height:1.6;margin:10px 0}
  .step{display:none; animation:.35s ease fade}
  .step.active{display:block}
  @keyframes fade{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none}}
  .grid2{display:grid;grid-template-columns:1fr;gap:14px}
  @media(min-width:760px){.grid2{grid-template-columns:1fr 1fr}}
  .map{width:100%;max-height:420px;object-fit:cover;border-radius:12px;border:1px solid #d7c6a3}
  .riddle{margin-top:6px;padding:12px;border:1px dashed #bfa77f;border-radius:10px;background:#fff9ef}
  label{display:block;font-size:14px;margin-top:8px;color:#5a4631}
  input[type=text]{width:100%;padding:12px 14px;border:1px solid #ceb88f;border-radius:8px;font-size:16px}
  .hint{font-size:14px;margin-top:6px}
  .ok{color:var(--ok);font-weight:700}
  .bad{color:var(--bad);font-weight:700}
  .btnrow{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
  .btn{
    appearance:none;border:0;border-radius:12px;padding:12px 18px;font-size:17px;
    background:var(--gold);color:#fff;text-decoration:none;cursor:pointer;
    box-shadow:0 4px 0 #8b633b;transition:transform .06s ease, filter .15s ease;
  }
  .btn:active{transform:translateY(2px);box-shadow:0 2px 0 #8b633b}
  .btn.ghost{background:#fff;color:var(--ink);border:1px dashed #bfa77f;box-shadow:none}
  .topbar{position:sticky;top:0;z-index:10;background:linear-gradient(#f3ead6,#efe3c9);padding:10px 0;border-bottom:1px solid #e3d2ab;margin-bottom:16px}
  .prog{height:8px;background:#e8d9b7;border-radius:999px;overflow:hidden}
  .prog>span{display:block;height:100%;width:0;background:linear-gradient(90deg,#a67c52,#c39a6b)}
  .foot{font-size:13px;color:#6b5a3c}
  .tag{display:inline-block;padding:4px 8px;border:1px solid #d2c19b;border-radius:999px;background:#fff7e4;color:#6e542f;font-size:13px;margin-right:8px}
</style>
</head>
<body>
<div class="topbar">
  <div class="wrap">
    <div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
      <strong>–ú–∞—Ä—à—Ä—É—Ç –∫–≤–µ—Å—Ç–∞</strong>
      <span id="stepLabel" class="foot">–°—Ç–∞—Ä—Ç</span>
    </div>
    <div class="prog"><span id="bar"></span></div>
  </div>
</div>

<div class="wrap">
  <div class="card">

    <!-- –í–°–¢–£–ü–õ–ï–ù–ò–ï / –°–¢–ê–†–¢ (U Kun≈°t√°t≈Ø, –±–µ–∑ –≤–≤–æ–¥–∞) -->
    <section class="step active" data-step="0">
      <h1>–í –ø–æ–∏—Å–∫–∞—Ö –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–∏–Ω—Ç—ã</h1>
      <p><b>–ì–æ—Ç–æ–≤—å—Å—è –∫ –≤–µ—Å–µ–ª—å—é.</b> –ì–æ–≤–æ—Ä—è—Ç, –≥–¥–µ-—Ç–æ –≤ –ü—Ä–∞–≥–µ —Å–ø—Ä—è—Ç–∞–Ω –ø—Ä–∏–∑ ‚Äî <b>–æ–±—Ä–∞—Ç–Ω—ã–π –±–∏–ª–µ—Ç –≤ –ü–∞—Ä–∏–∂ –∫ –Ω–µ–≤–µ—Å—Ç–µ</b>. 
         –î–æ—Ä–æ–≥–∞ –∫ –Ω–µ–º—É –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –ø–µ–Ω—É, –ª–µ–≥–µ–Ω–¥—ã –∏ –ø–∞—Ä—É —Å–æ–º–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π. –ö–∞—Ä—Ç–∞ —É–∂–µ —É —Ç–µ–±—è ‚Äî –æ—Å—Ç–∞–ª–æ—Å—å
         –¥–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Ç—ã –¥–æ—Å—Ç–æ–∏–Ω —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–æ—Å—Ç–∞. üç∫</p>
      <div class="grid2">
        <div>
          <h2>–°—Ç–∞—Ä—Ç ‚Äî U Kun≈°t√°t≈Ø (Maiselova 12)</h2>
          <p><span class="tag">–†–∞–∑–º–∏–Ω–∫–∞</span> –ö—É–ª—å—Ç–æ–≤–∞—è –∫—Ä–∞—Ñ—Ç–æ–≤–∞—è –¥–µ–≥—É—Å—Ç–∞—Ü–∏—è: –Ω—é—Ö–∞–µ–º, –≥–∞–¥–∞–µ–º, –Ω–µ –≤—ã–ø–ª—ë–≤—ã–≤–∞–µ–º.
             –≠—Ç–æ —Ç–≤–æ–π –Ω—É–ª–µ–≤–æ–π —á–µ–∫–ø–æ–∏–Ω—Ç ‚Äî –¥–∞–ª—å—à–µ —Å–ª–æ–∂–Ω–µ–µ (–∏ –≤–µ—Å–µ–ª–µ–µ).</p>
        </div>
      </div>
      <div class="btnrow">
        <button class="btn" data-next>–ú—ã –Ω–∞ –º–µ—Å—Ç–µ ‚Äî –≤–ø–µ—Ä—ë–¥!</button>
      </div>
    </section>

    <!-- 1) –ü–æ—Ä–æ—Ö–æ–≤–∞—è –±–∞—à–Ω—è ‚Äî img/1.jpg -->
    <section class="step" data-step="1">
      <h2>1) –ü–æ—Ä–æ—Ö–æ–≤–∞—è –±–∞—à–Ω—è</h2>
      <div class="grid2">
        <div class="riddle">
          <p><b>–ó–∞–≥–∞–¥–∫–∞:</b> ¬´–ß–µ—Ä–µ–∑ –º–µ–Ω—è –≤—Ö–æ–¥–∏–ª–∏ –≤ –≥–æ—Ä–æ–¥ –≤–æ–∏–Ω—ã –∏ –∫–æ—Ä–æ–ª–∏. –ö—Ç–æ —è?¬ª</p>
          <label for="a1">–û—Ç–≤–µ—Ç:</label>
          <input id="a1" placeholder="–≤–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç‚Ä¶">
          <div class="hint" id="m1"></div>
        </div>
        <img class="map" src="img/1.jpg" alt="–ü–æ—Ä–æ—Ö–æ–≤–∞—è –±–∞—à–Ω—è">
      </div>
      <div class="btnrow">
        <button class="btn" data-check="1">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      </div>
    </section>

    <!-- 2) –ö—É—Ä–∞–Ω—Ç—ã ‚Äî img/2.jpg -->
    <section class="step" data-step="2">
      <h2>2) –°—Ç–∞—Ä–æ–º–µ—Å—Ç—Å–∫–∞—è –ø–ª–æ—â–∞–¥—å ‚Üí –ü—Ä–∞–∂—Å–∫–∏–µ –∫—É—Ä–∞–Ω—Ç—ã</h2>
      <div class="grid2">
        <div class="riddle">
          <p><b>–ó–∞–≥–∞–¥–∫–∞:</b> ¬´–Ø —Å—á–∏—Ç–∞—é –≤—Ä–µ–º—è, –Ω–æ –¥–µ–ª–∞—é —ç—Ç–æ –∫—Ä–∞—Å–∏–≤–æ. –ì–¥–µ —è?¬ª</p>
          <label for="a2">–û—Ç–≤–µ—Ç:</label>
          <input id="a2" placeholder="–≤–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç‚Ä¶">
          <div class="hint" id="m2"></div>
        </div>
        <img class="map" src="img/2.jpg" alt="–ö—É—Ä–∞–Ω—Ç—ã">
      </div>
      <div class="btnrow">
        <button class="btn" data-check="2">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      </div>
    </section>

    <!-- 3) –ö–∞—Ä–ª–æ–≤ –º–æ—Å—Ç ‚Äî img/3.jpg -->
    <section class="step" data-step="3">
      <h2>3) –ö–∞—Ä–ª–æ–≤ –º–æ—Å—Ç</h2>
      <div class="grid2">
        <div class="riddle">
          <p><b>–ó–∞–≥–∞–¥–∫–∞:</b> ¬´–Ø —Å–æ–µ–¥–∏–Ω—è—é –±–µ—Ä–µ–≥–∞ –∏ —Ö—Ä–∞–Ω—é –∏—Å—Ç–æ—Ä–∏–∏.¬ª</p>
          <label for="a3">–û—Ç–≤–µ—Ç:</label>
          <input id="a3" placeholder="–≤–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç‚Ä¶">
          <div class="hint" id="m3"></div>
        </div>
        <img class="map" src="img/3.jpg" alt="–ö–∞—Ä–ª–æ–≤ –º–æ—Å—Ç">
      </div>
      <div class="btnrow">
        <button class="btn" data-check="3">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      </div>
    </section>

    <!-- 4) –°—Ç–µ–Ω–∞ –õ–µ–Ω–Ω–æ–Ω–∞ ‚Äî img/4.jpg -->
    <section class="step" data-step="4">
      <h2>4) –°—Ç–µ–Ω–∞ –î–∂–æ–Ω–∞ –õ–µ–Ω–Ω–æ–Ω–∞</h2>
      <div class="grid2">
        <div class="riddle">
          <p><b>–ó–∞–≥–∞–¥–∫–∞:</b> ¬´–ó–¥–µ—Å—å –ø–∏—à—É—Ç –º–µ—á—Ç—ã, —Ä–∏—Å—É—é—Ç –º–∏—Ä –∏ –ø–æ—é—Ç –ø—Ä–æ –ª—é–±–æ–≤—å. –ì–¥–µ —Ç—ã?¬ª</p>
          <label for="a4">–û—Ç–≤–µ—Ç:</label>
          <input id="a4" placeholder="–≤–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç‚Ä¶">
          <div class="hint" id="m4"></div>
        </div>
        <img class="map" src="img/4.jpg" alt="–°—Ç–µ–Ω–∞ –õ–µ–Ω–Ω–æ–Ω–∞">
      </div>
      <div class="btnrow">
        <button class="btn" data-check="4">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      </div>
    </section>

    <!-- 5) U svat√©ho Filipa a Jakuba ‚Äî img/5.jpg (—Å—Ç—Ä–æ–≥–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å –¥–∏–∞–∫—Ä–∏—Ç–∏–∫–æ–π) -->
    <section class="step" data-step="5">
      <h2>5) –ü–æ—Ä–∞ –∑–∞ ¬´–ª—É—á—à–∏–º —Ä–∞–∑–ª–∏–≤–Ω—ã–º¬ª</h2>
      <p><span class="tag">–û—Ç –±—Ä–∞—Ç–∞</span> ¬´–¢—É—Ç –Ω–∞–ª–∏–≤–∞—é—Ç –ª—É—á—à–µ–µ —Ä–∞–∑–ª–∏–≤–Ω–æ–µ –ø–∏–≤–æ –≤ –æ–∫—Ä—É–≥–µ¬ª.  
         –ö–∞–∫ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç—Ç–æ—Ç —Ö—Ä–∞–º —Ö–º–µ–ª—è? –ù–∞–ø–∏—à–∏ <b>—Ç–æ—á–Ω–æ–µ</b> –Ω–∞–∑–≤–∞–Ω–∏–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –±—É–∫–≤–∞–º–∏.</p>
      <img class="map" src="img/5.jpg" alt="U svat√©ho Filipa a Jakuba">
      <div class="riddle">
        <label for="a5">–ù–∞–∑–≤–∞–Ω–∏–µ –±–∞—Ä–∞:</label>
        <input id="a5" placeholder="–≤–≤–µ–¥–∏ —Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ‚Ä¶">
        <div class="hint" id="m5"></div>
      </div>
      <div class="btnrow">
        <button class="btn" data-check="5">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      </div>
    </section>

    <!-- 6) –ú–æ—Å—Ç –õ–µ–≥–∏–π ‚Äî img/6.jpg (–ø—Ä–æ—Å—Ç–æ —Ñ–æ—Ç–æ) -->
    <section class="step" data-step="6">
      <h2>6) Most Legi√≠ (–ú–æ—Å—Ç –õ–µ–≥–∏–π)</h2>
      <p>–°–¥–µ–ª–∞–π—Ç–µ ¬´–≥–µ—Ä–æ–π—Å–∫–∏–π¬ª –∫–∞–¥—Ä —Å –≤–∏–¥–æ–º –Ω–∞ –í–ª—Ç–∞–≤—É –∏ –ö–∞—Ä–ª–æ–≤ –º–æ—Å—Ç.  
         –ë–æ–Ω—É—Å: –ø–æ–∑–∞ ¬´—Ç—É—Ä–∏—Å—Ç-–∏–¥–∏–æ—Ç¬ª –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è üòÅ</p>
      <img class="map" src="img/6.jpg" alt="Most Legi√≠">
      <div class="btnrow">
        <button class="btn" data-next>–î–∞–ª—å—à–µ</button>
      </div>
    </section>

    <!-- 7) N√°rodn√≠ divadlo ‚Äî img/7.jpg -->
    <section class="step" data-step="7">
      <h2>7) N√°rodn√≠ divadlo (–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∞—Ç—Ä)</h2>
      <div class="grid2">
        <div class="riddle">
          <p><b>–ó–∞–≥–∞–¥–∫–∞:</b> ¬´–Ø –∑–æ–ª–æ—Ç–æ–π, —Å—Ç–æ—é —É —Ä–µ–∫–∏ –∏ —Å–ª—ã—à—É –∞–ø–ª–æ–¥–∏—Å–º–µ–Ω—Ç—ã.¬ª</p>
          <label for="a7">–û—Ç–≤–µ—Ç:</label>
          <input id="a7" placeholder="–≤–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç‚Ä¶">
          <div class="hint" id="m7"></div>
        </div>
        <img class="map" src="img/7.jpg" alt="–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∞—Ç—Ä">
      </div>
      <div class="btnrow">
        <button class="btn" data-check="7">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      </div>
    </section>

    <!-- 8) U Flek≈Ø ‚Äî img/8.jpg (—Å—Ç—Ä–æ–≥–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å –¥–∏–∞–∫—Ä–∏—Ç–∏–∫–æ–π) -->
    <section class="step" data-step="8">
      <h2>8) –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ —á—ë—Ä–Ω–æ–µ –ø–∏–≤–æ</h2>
      <p>–§–∏–Ω–∏—à–Ω–∞—è –ø—Ä—è–º–∞—è. –ì–æ–≤–æ—Ä—è—Ç, –ª—É—á—à–∞—è —Ç—å–º–∞ ‚Äî —Ç—É—Ç. –ù–∞–∑–æ–≤–∏ –º–µ—Å—Ç–æ <b>—Ç–æ—á–Ω–æ</b> –∏ –ø–æ–ª—É—á–∏ –ø—Ä–∞–≤–æ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ç–æ—Å—Ç.</p>
      <img class="map" src="img/8.jpg" alt="U Flek≈Ø">
      <div class="riddle">
        <label for="a8">–ù–∞–∑–≤–∞–Ω–∏–µ –º–µ—Å—Ç–∞:</label>
        <input id="a8" placeholder="–≤–≤–µ–¥–∏ —Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ‚Ä¶">
        <div class="hint" id="m8"></div>
      </div>
      <div class="btnrow">
        <button class="btn" data-check="8">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      </div>
    </section>

    <!-- 9) –§–∏–Ω–∏—à -->
    <section class="step" data-step="9">
      <h2>–§–∏–Ω–∏—à ‚Äî –ü—Ä–∏–∑ –∏ —Ä—É–ª—å–∫–∞</h2>
      <p>–õ—é–±–æ–≤—å –ø–æ–±–µ–¥–∏–ª–∞. –ü–∏–≤–æ ‚Äî –ø–æ—á—Ç–∏. –¢–µ–ø–µ—Ä—å ‚Äî —É–∂–∏–Ω –∏ –≥—Ä–æ–º–∫–∏–π —Ç–æ—Å—Ç. ü§ç</p>
      <div class="btnrow">
        <button class="btn ghost" onclick="goTo(0)">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—É</button>
      </div>
    </section>

  </div>
</div>

<script>
  // –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å
  const steps=[...document.querySelectorAll('.step')];
  const bar=document.getElementById('bar');
  const label=document.getElementById('stepLabel');
  let idx=0;

  function updateUI(){
    steps.forEach((s,i)=>s.classList.toggle('active', i===idx));
    const pct=Math.round(idx/(steps.length-1)*100);
    bar.style.width=pct+'%';
    label.textContent = (idx===0? '–°—Ç–∞—Ä—Ç' : `–®–∞–≥ ${idx} –∏–∑ ${steps.length-1}`);
    window.scrollTo({top:0,behavior:'smooth'});
  }
  function goTo(n){ idx=Math.max(0,Math.min(steps.length-1,n)); updateUI(); }
  document.querySelectorAll('[data-next]').forEach(b=>b.addEventListener('click',()=>{ idx++; updateUI(); }));

  // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è (–¥–ª—è –º—è–≥–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫)
  const norm = s => (s||"")
    .toLowerCase()
    .normalize('NFD').replace(/[\u0300-\u036f]/g,'') // —É–±–∏—Ä–∞–µ–º –¥–∏–∞–∫—Ä–∏—Ç–∏–∫—É
    .replace(/[—ë]/g,'–µ')
    .replace(/[^a-z–∞-—è0-9\s]/g,' ')
    .replace(/\s+/g,' ')
    .trim();

  // –î–æ–ø—É—Å—Ç–∏–º—ã–µ –æ—Ç–≤–µ—Ç—ã (–º—è–≥–∫–æ) –¥–ª—è –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π
  const ACCEPT_SOFT = {
    1: ["–ø–æ—Ä–æ—Ö–æ–≤–∞—è –±–∞—à–Ω—è","–ø–æ—Ä–æ—Ö–æ–≤–∞—è","powder tower","pra≈°n√° br√°na","prasna brana","prachna brana"],
    2: ["–∫—É—Ä–∞–Ω—Ç—ã","–æ—Ä–ª–æ–π","orloj","–∞—Å—Ç—Ä–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —á–∞—Å—ã","astronomical clock"],
    3: ["–∫–∞—Ä–ª–æ–≤ –º–æ—Å—Ç","charles bridge","karluv most","karl≈Øv most","–∫–∞—Ä–ª –º–æ—Å—Ç"],
    4: ["—Å—Ç–µ–Ω–∞ –ª–µ–Ω–Ω–æ–Ω–∞","lennon wall","john lennon wall","–ª–µ–Ω–Ω–æ–Ω"],
    7: ["–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∞—Ç—Ä","narodni divadlo","national theatre"]
  };

  // –°—Ç—Ä–æ–≥–∏–µ –æ—Ç–≤–µ—Ç—ã —Å –¥–∏–∞–∫—Ä–∏—Ç–∏–∫–æ–π (—Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π "–ø–æ—á—Ç–∏")
  const STRICT = {
    5: "u svat√©ho filipa a jakuba",
    8: "u flek≈Ø"
  };
  const STRICT_RAW = {
    5: "U svat√©ho Filipa a Jakuba",
    8: "U Flek≈Ø"
  };

  function checkSoft(id, val){
    const n = norm(val);
    return (ACCEPT_SOFT[id]||[]).some(v=> n.includes(norm(v)));
  }
  function checkStrict(id, val){
    const raw = (val||"").trim().toLowerCase();
    const target = STRICT[id];
    if(!target) return true;
    // —Ç–æ—á–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ —Ä–µ–≥–∏—Å—Ç—Ä—É –∏ –¥–∏–∞–∫—Ä–∏—Ç–∏–∫–µ? ‚Äî –¥–µ–ª–∞–µ–º —Ç–∞–∫:
    const exact = (val||"").trim() === STRICT_RAW[id];
    if(exact) return {ok:true, msg:"–í–µ—Ä–Ω–æ!"};
    // –µ—Å–ª–∏ —Å–æ–≤–ø–∞–ª–æ –±–µ–∑ –¥–∏–∞–∫—Ä–∏—Ç–∏–∫–∏ ‚Äî –ø–æ–¥—Å–∫–∞–∑–∫–∞ ¬´–ø–æ—á—Ç–∏¬ª
    const noDia = norm(val);
    const noDiaTarget = norm(STRICT_RAW[id]);
    if(noDia === noDiaTarget) return {ok:false, almost:true, msg:"–ü–æ—á—Ç–∏! –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –±—É–∫–≤—ã (–¥–∏–∞–∫—Ä–∏—Ç–∏–∫—É)."};
    return {ok:false, msg:"–ù–µ –ø–æ—Ö–æ–∂–µ. –í–≤–µ–¥–∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ—Å—Ç–∞."};
  }

  // –ü—Ä–∏–≤—è–∑–∫–∞ –∫–Ω–æ–ø–æ–∫ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å"
  document.querySelectorAll('[data-check]').forEach(btn=>{
    btn.addEventListener('click',()=>{
      const id = +btn.getAttribute('data-check');
      const inp = document.getElementById('a'+id);
      const msg = document.getElementById('m'+id);
      let ok=false, text="", cls="bad";

      if(id===5 || id===8){
        const res = checkStrict(id, inp.value);
        ok = !!res.ok;
        text = res.msg || (ok? "–í–µ—Ä–Ω–æ!" : "–ù–µ–∞.");
        if(res.almost) text = res.msg;
      }else{
        ok = checkSoft(id, inp.value);
        text = ok ? "–í–µ—Ä–Ω–æ! –ü–æ–µ—Ö–∞–ª–∏ –¥–∞–ª—å—à–µ." : "–ü–æ—á—Ç–∏. –°–∫–∞–∂–∏ —ç—Ç–æ –ø–æ-–¥—Ä—É–≥–æ–º—É üòâ";
      }

      cls = ok ? "ok" : "bad";
      msg.textContent = text;
      msg.className = "hint " + cls;

      if(ok){ setTimeout(()=>{ idx++; updateUI(); }, 550); }
    });
  });

  updateUI();
</script>
</body>
</html>
